<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- 
        buat production:
        - app.sandbox.midtrans.com => app.midtrans.com
        - data-client-key => req di grup
    -->
    <script 
      type="text/javascript"
      src="https://app.sandbox.midtrans.com/snap/snap.js"
      data-client-key="SB-Mid-client-A0033fXlAFSXlTtL"
    ></script>
  </head>

  <body>
    <button id="pay-button">Pay!</button>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="text/javascript">
      var payButton = document.getElementById('pay-button');

      payButton.addEventListener('click', async function () {
        const api = 'https://app.suksesutbk.com/api/v2/payment/create-token';
        const payload = {
            user_id: 85, // rohmad
            item_id: 50 // SUKSES-1 SAINTEK
        }
        axios.post(api, payload).then((response) => {
            snap.pay(response.data.token);
        })
      });
    </script>
  </body>
</html>